{"version":3,"file":"app.js","sources":["webpack:///./src/app.jsx","webpack:///./src/app.jsx?fb78","webpack:///./src/app.scss","webpack:///./src/store/index.js","webpack:///./src/store/modules/act.js","webpack:///./src/store/modules/counter.js","webpack:///./src/store/modules/user.js"],"sourcesContent":["import { Component } from 'react'\r\nimport Taro from '@tarojs/taro'\r\n\r\nimport { Provider } from 'mobx-react'\r\nimport store from './store'\r\nimport { fetchLogin } from './utils/api'\r\n\r\n// console.log('app page store', store)\r\n\r\nimport './app.scss'\r\n\r\nclass App extends Component {\r\n  // 小程序启动的入口\r\n  onLaunch() {\r\n    Taro.login().then(res=>{\r\n      console.log('登录', res)\r\n      fetchLogin({code: res.code}).then(res=>{\r\n        Taro.setStorage({\r\n          key: 'token',\r\n          data: res.token\r\n        })\r\n        // 小程序启动后获取用户信息\r\n        store.userStore.getUserInfo()\r\n      })\r\n    })\r\n  }\r\n\r\n  // this.props.children 就是要渲染的页面\r\n  render () {\r\n    return (\r\n      <Provider store={store}>\r\n        {this.props.children}\r\n      </Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import '@tarojs/plugin-platform-weapp/dist/runtime'\n\nimport { createReactApp, window } from '@tarojs/runtime'\nimport component from \"../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!./app.jsx\"\n\nimport * as React from 'react'\nimport ReactDOM from 'react-dom'\n\nvar config = {\"pages\":[\"pages/test/test\",\"pages/listen/listen\",\"pages/books/books\",\"pages/listen_detail/listen_detail\",\"pages/welfare/welfare\",\"pages/index/index\"],\"window\":{\"backgroundTextStyle\":\"light\",\"navigationBarBackgroundColor\":\"#fff\",\"navigationBarTitleText\":\"WeChat\",\"navigationBarTextStyle\":\"black\"},\"tabBar\":{\"color\":\"#aaaaaa\",\"selectedColor\":\"#ff0000\",\"list\":[{\"pagePath\":\"pages/welfare/welfare\",\"text\":\"福利\",\"iconPath\":\"assets/tabbar/welfare.png\",\"selectedIconPath\":\"assets/tabbar/welfare-on.png\"},{\"pagePath\":\"pages/books/books\",\"text\":\"书城\",\"iconPath\":\"assets/tabbar/book.png\",\"selectedIconPath\":\"assets/tabbar/book-on.png\"},{\"pagePath\":\"pages/listen/listen\",\"text\":\"听书\",\"iconPath\":\"assets/tabbar/listen.png\",\"selectedIconPath\":\"assets/tabbar/listen-on.png\"}]}};\nwindow.__taroAppConfig = config\nvar inst = App(createReactApp(component, React, ReactDOM, config))\n\n","// extracted by mini-css-extract-plugin","import counterStore from './modules/counter'\r\nimport userStore from './modules/user'\r\nimport actStore from './modules/act'\r\n\r\nexport default {\r\n\tcounterStore,\r\n\tuserStore,\r\n\tactStore\r\n}\r\n","import { observable } from 'mobx'\r\nimport { fetchActList } from '../../utils/api'\r\nimport Taro from '@tarojs/taro'\r\n\r\nexport default observable({\r\n  list: [],\r\n  getActList(params) {\r\n\t\tfetchActList({}).then(res=>{\r\n\t\t\tconsole.log('活动列表', res)\r\n\t\t\tthis.list = res.list\r\n\t\t})\r\n\t}\r\n})\r\n","import { observable } from 'mobx'\r\n\r\nconst counterStore = observable({\r\n  counter: 0,\r\n  counterStore() {\r\n    this.counter++\r\n  },\r\n  increment() {\r\n    this.counter++\r\n  },\r\n  decrement() {\r\n    this.counter--\r\n  },\r\n  incrementAsync() {\r\n    setTimeout(() => {\r\n      this.counter++\r\n    }, 1000)\r\n  }\r\n})\r\n\r\nexport default counterStore","import { observable } from 'mobx'\r\nimport { fetchUserInfo, fetchUpdUserInfo } from '@/utils/api'\r\nimport Taro from '@tarojs/taro'\r\n\r\nconst userStore = observable({\r\n  userInfo: {},\r\n  // 获取用户信息的action\r\n  getUserInfo() {\r\n    fetchUserInfo().then(res=>{\r\n      console.log('用户信息', res.userInfo)\r\n      this.userInfo = res.userInfo\r\n    })\r\n  },\r\n  // 修改用户信息的action\r\n  updateUserInfo(data) {\r\n    console.log('mobx user data', data)\r\n    fetchUpdUserInfo(data).then(()=>{\r\n      this.getUserInfo()\r\n    })\r\n  }\r\n})\r\n\r\nexport default userStore\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AAGA;;;AAEA;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AACA;AAIA;AANA;AAFA;AAaA;AACA;;;AAAA;AACA;AACA;AAAA;AAAA;AAIA;;;;AAvBA;AACA;AAyBA;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;;;;;;ACJA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAfA;AAkBA;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAfA;AAkBA;;;;A","sourceRoot":""}